(this.webpackJsonpearthquakes=this.webpackJsonpearthquakes||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/dative-logo.b18da40b.webp"},29:function(e,t,a){e.exports=a(80)},34:function(e,t,a){},35:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),c=a.n(r),i=(a(34),a(21)),s=a(22),o=a(27),u=a(23),d=a(2),m=a(28),h=(a(35),a(24)),p=a.n(h),f=(a(57),a(58),function(e){var t=e.lng,a=e.lat,n=e.hadleClick,r=e.id,c=e.selectedPin,i=e.renderDetails;return l.a.createElement("div",{className:"earthquake"},i,l.a.createElement("div",{onClick:function(){return n(r)},className:"earthquake__pin "+c,lng:t,lat:a}))}),k=(a(59),function(e){var t=e.details,a=e.onCloseDetClick,n=t.place,r=t.time,c=t.date,i=t.mag;return Object.keys(t).length?l.a.createElement("div",{className:"details"},l.a.createElement("button",{className:"details__button",onClick:a},"x"),l.a.createElement("p",{className:"details__data"},l.a.createElement("span",null,"Location: "),n),l.a.createElement("p",{className:"details__data"},l.a.createElement("span",null,"Date: "),c),l.a.createElement("p",{className:"details__data"},l.a.createElement("span",null,"Time: "),r),l.a.createElement("p",{className:"details__data"},l.a.createElement("span",null,"Magnitude: "),i)):null}),g=function(e){var t=e.earthquakes,a=e.selected,n=e.handleClick,r=e.center,c=e.onCloseDetClick,i={center:{lat:59.95,lng:30.33},zoom:1},s=function(e){return e===a.id?"selected":""},o=function(e){return e===a.id?l.a.createElement(k,{details:a,onCloseDetClick:c}):null};return l.a.createElement("div",{className:"map"},l.a.createElement(p.a,{bootstrapURLKeys:{key:"AIzaSyC7T-MBefVa-jF5Q1xoSwvVvWrHMgxUVb8"},defaultCenter:i.center,center:r,defaultZoom:i.zoom},t.map((function(e){var t=e.coordinates,a=e.id,r=e.title,c=t.lat,i=t.lng;return l.a.createElement(f,{key:a,lat:c,lng:i,title:r,id:a,hadleClick:n,selectedPin:s(a),renderDetails:o(a)})}))))},E=(a(60),function(){return l.a.createElement("header",{className:"header"},l.a.createElement("h1",{className:"header__name"},l.a.createElement("span",null,"Earth"),l.a.createElement("span",null," quake")))}),C=(a(61),a(25)),v=a.n(C),_=function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("p",{className:"footer__link"},"made for",l.a.createElement("a",{href:"https://www.dativepartners.co/",title:"Go to Dative page"},l.a.createElement("img",{className:"footer__link__image",src:v.a,alt:"Go to Dative page"}))))},b=(a(62),function(e){var t=e.onchange,a=e.value;return l.a.createElement("input",{className:"input",type:"text",placeholder:"search",onChange:t,value:a})}),N=a(26),q=function(){return Object(N.get)("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp").then((function(e){return function(e){var t=e.data.split("(");return t=t[1].replace(")","").replace(";",""),JSON.parse(t)}(e)})).then((function(e){return function(e){return e.features.map((function(e){var t=e.id,a=e.geometry,n=e.properties,l=new Date(parseInt(n.time));return{id:t,coordinates:{lat:a.coordinates[1],lng:a.coordinates[0]},place:n.place,time:l.toLocaleTimeString(),date:l.toLocaleDateString(),mag:n.mag}}))}(e)})).catch((function(e){return console.log(e)}))},D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleClick=function(t){return e.setState({selectedPin:e.state.earthquakes.find((function(e){return e.id===t}))})},e.handleChange=function(t){return e.setState({input:t.target.value})},e.handleCloseDetClick=function(t){return e.setState({selectedPin:{}})},e.centerMap=function(){var t=e.state.earthquakes.find((function(t){return t.place.toLowerCase().includes(e.state.input.toLocaleLowerCase())}));return t?t.coordinates:null},e.state={earthquakes:[],selectedPin:{},input:"",center:{lat:59.95,lng:30.33}},e.handleClick=e.handleClick.bind(Object(d.a)(e)),e.handleChange=e.handleChange.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;q().then((function(t){e.setState({earthquakes:t})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement(E,null),l.a.createElement("div",{className:"app__container"},l.a.createElement(b,{onchange:this.handleChange,value:this.state.input}),l.a.createElement(g,{earthquakes:this.state.earthquakes,handleClick:this.handleClick,selected:this.state.selectedPin,center:this.centerMap(),onCloseDetClick:this.handleCloseDetClick})),l.a.createElement(_,null))}}]),t}(l.a.Component);c.a.render(l.a.createElement(D,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.1fa6aacf.chunk.js.map