{"version":3,"sources":["images/dative-logo.webp","components/Earthquake.js","components/Details.js","components/Map.js","components/Header.js","components/Footer.js","components/SearchBox.js","service/getDataFromServer.js","components/App.js","index.js"],"names":["module","exports","Earthquake","lng","lat","hadleClick","id","selectedPin","renderDetails","className","onClick","Details","details","onCloseDetClick","place","time","date","mag","Object","keys","length","Map","earthquakes","selected","handleClick","center","defaultProps","zoom","getSelectedPin","bootstrapURLKeys","key","defaultCenter","defaultZoom","map","coordinates","title","Header","Footer","href","src","dativeLogo","alt","SeachBox","onchange","value","type","placeholder","onChange","getDataFromServer","get","then","response","data","split","replace","JSON","parse","parseData","features","geometry","properties","newTime","Date","parseInt","toLocaleTimeString","toLocaleDateString","formatData","catch","error","console","log","App","setState","state","find","item","handleChange","e","input","target","handleCloseDetClick","centerMap","toLowerCase","includes","toLocaleLowerCase","bind","SearchBox","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1fa6aacf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dative-logo.b18da40b.webp\";","import React from \"react\";\nimport \"../styles/earthquake.scss\";\n\nconst Earthquake = ({\n  lng,\n  lat,\n  hadleClick,\n  id,\n  selectedPin,\n  renderDetails\n}) => {\n  return (\n    <div className=\"earthquake\">\n      {renderDetails}\n      <div\n        onClick={() => hadleClick(id)}\n        className={\"earthquake__pin \" + selectedPin}\n        lng={lng}\n        lat={lat}\n      ></div>\n    </div>\n  );\n};\n\nexport default Earthquake;\n","import React from \"react\";\nimport \"../styles/details.scss\";\n\nconst Details = ({ details, onCloseDetClick }) => {\n  const { place, time, date, mag } = details;\n  return Object.keys(details).length ? (\n    <div className=\"details\">\n      <button className='details__button' onClick={onCloseDetClick}>x</button>\n      <p className=\"details__data\"><span>Location: </span>{place}</p>\n      <p className=\"details__data\"><span>Date: </span>{date}</p>\n      <p className=\"details__data\"><span>Time: </span>{time}</p>\n      <p className=\"details__data\"><span>Magnitude: </span>{mag}</p>\n    </div>\n  ) : null;\n};\n\nexport default Details;\n","import React from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport \"../styles/map.scss\";\nimport Earthquake from \"./Earthquake\";\nimport Details from \"./Details\";\n\nconst Map = ({ earthquakes, selected, handleClick, center, onCloseDetClick }) => {\n  const defaultProps = {\n    center: {\n      lat: 59.95,\n      lng: 30.33\n    },\n    zoom: 1\n  };\n\n  const getSelectedPin = id => id === selected.id ? \"selected\" : \"\";\n\n  const renderDetails = id => id === selected.id ? <Details details={selected} onCloseDetClick={onCloseDetClick}/> : null;\n\n  const renderEarthQuakes = () => {\n    return earthquakes.map(({ coordinates, id, title }) => {\n      const { lat, lng } = coordinates;\n      return (\n        <Earthquake\n          key={id}\n          lat={lat}\n          lng={lng}\n          title={title}\n          id={id}\n          hadleClick={handleClick}\n          selectedPin={getSelectedPin(id)}\n          renderDetails={renderDetails(id)}\n          />\n          );\n        });\n  };\n  \n  return (\n    <div className=\"map\">\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: \"AIzaSyC7T-MBefVa-jF5Q1xoSwvVvWrHMgxUVb8\" }}\n        defaultCenter={defaultProps.center}\n        center={center}\n        defaultZoom={defaultProps.zoom}\n        >\n        \n        {renderEarthQuakes()}\n      </GoogleMapReact>\n    </div>\n  );\n};\n\nexport default Map;\n","import React from 'react'\nimport '../styles/header.scss'\nconst Header = () => {\n  return(\n    <header className='header'>\n      <h1 className='header__name'><span>Earth</span><span> quake</span></h1>\n    </header>\n  )\n}\n\nexport default Header","import React from \"react\";\nimport \"../styles/footer.scss\";\nimport dativeLogo from '../images/dative-logo.webp'\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__link\">\n        made for \n        <a href=\"https://www.dativepartners.co/\" title=\"Go to Dative page\">\n          <img  className='footer__link__image' src={dativeLogo} alt='Go to Dative page'/>\n        </a>\n      </p>\n    </footer>\n  );\n};\n\nexport default Footer","import React from 'react';\nimport '../styles/input.scss'\n\nconst SeachBox = ({onchange, value}) => {\n  return(\n    <input className='input' type='text' placeholder='search' onChange={onchange} value={value}/>\n  )\n}\n\nexport default SeachBox","import { get } from \"axios\";\n\nconst parseData = response => {\n  let data = response.data.split(\"(\");\n  data = data[1].replace(\")\", \"\").replace(\";\", \"\");\n  return JSON.parse(data);\n};\n\nconst formatData = data => {\n  return data.features.map(({ id, geometry, properties }) => {\n    const newTime = new Date(parseInt(properties.time));\n    return {\n      id: id,\n      coordinates: {\n        lat: geometry.coordinates[1],\n        lng: geometry.coordinates[0]\n      },\n      place: properties.place,\n      time: newTime.toLocaleTimeString(),\n      date: newTime.toLocaleDateString(),\n      mag: properties.mag\n    };\n  });\n};\n\nconst getDataFromServer = () => {\n  return get(\n    \"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp\"\n  )\n    .then(response => parseData(response))\n    .then(data => formatData(data))\n    .catch(error => console.log(error));\n};\n\nexport default getDataFromServer;\n","import React from \"react\";\nimport \"../styles/app.scss\";\nimport Map from \"./Map\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport SearchBox from \"./SearchBox\";\nimport getDataFromServer from \"../service/getDataFromServer\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      earthquakes: [],\n      selectedPin: {},\n      input: \"\",\n      center: {\n        lat: 59.95,\n        lng: 30.33\n      }\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    getDataFromServer().then(earthquakes => {\n      this.setState({ earthquakes });\n    });\n  }\n\n  handleClick = id =>\n    this.setState({\n      selectedPin: this.state.earthquakes.find(item => item.id === id)\n    });\n\n  handleChange = e => this.setState({ input: e.target.value });\n\n  handleCloseDetClick = e => this.setState({ selectedPin: {} });\n\n  centerMap = () => {\n    const place = this.state.earthquakes.find(item =>\n      item.place.toLowerCase().includes(this.state.input.toLocaleLowerCase())\n    );\n    return place ? place.coordinates : null;\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Header />\n        <div className=\"app__container\">\n          <SearchBox onchange={this.handleChange} value={this.state.input} />\n          <Map\n            earthquakes={this.state.earthquakes}\n            handleClick={this.handleClick}\n            selected={this.state.selectedPin}\n            center={this.centerMap()}\n            onCloseDetClick={this.handleCloseDetClick}\n          />\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss'\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}