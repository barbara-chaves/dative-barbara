(this.webpackJsonpearthquakes=this.webpackJsonpearthquakes||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/dative-logo.b18da40b.webp"},29:function(e,t,a){e.exports=a(80)},34:function(e,t,a){},35:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),c=a.n(l),i=(a(34),a(21)),s=a(22),u=a(27),o=a(23),d=a(2),m=a(28),h=(a(35),a(24)),p=a.n(h),f=(a(57),a(58),function(e){var t=e.lng,a=e.lat,n=e.hadleClick,l=e.id,c=e.selectedPin,i=e.renderDetails;return r.a.createElement("div",{className:"earthquake",onClick:function(){return n(l)}},i,r.a.createElement("div",{className:"earthquake__pin "+c,lng:t,lat:a}))}),g=(a(59),function(e){var t=e.details,a=t.place,n=t.time,l=t.date,c=t.mag;return Object.keys(t).length?r.a.createElement("div",{className:"details"},r.a.createElement("p",{className:"details__data"},r.a.createElement("span",null,"Location: "),a),r.a.createElement("p",{className:"details__data"},r.a.createElement("span",null,"Date: "),l),r.a.createElement("p",{className:"details__data"},r.a.createElement("span",null,"Time: "),n),r.a.createElement("p",{className:"details__data"},r.a.createElement("span",null,"Magnitude: "),c)):null}),k=function(e){var t=e.earthquakes,a=e.selected,n=e.handleClick,l=e.center,c={center:{lat:59.95,lng:30.33},zoom:1},i=function(e){return e===a.id?"selected":""},s=function(e){return e===a.id?r.a.createElement(g,{details:a}):null};return r.a.createElement("div",{className:"map"},r.a.createElement(p.a,{bootstrapURLKeys:{key:"AIzaSyC7T-MBefVa-jF5Q1xoSwvVvWrHMgxUVb8"},defaultCenter:c.center,center:l,defaultZoom:c.zoom},t.map((function(e){var t=e.coordinates,a=e.id,l=e.title,c=t.lat,u=t.lng;return r.a.createElement(f,{key:a,lat:c,lng:u,title:l,id:a,hadleClick:n,selectedPin:i(a),renderDetails:s(a)})}))))},E=(a(60),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__name"},r.a.createElement("span",null,"Earth"),r.a.createElement("span",null," quake")))}),v=(a(61),a(25)),_=a.n(v),C=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__link"},"made for",r.a.createElement("a",{href:"https://www.dativepartners.co/",title:"Go to Dative page"},r.a.createElement("img",{className:"footer__link__image",src:_.a,alt:"Go to Dative page"}))))},b=(a(62),function(e){var t=e.onchange,a=e.value;return r.a.createElement("input",{className:"input",type:"text",placeholder:"search",onChange:t,value:a})}),N=a(26),q=function(){return Object(N.get)("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp").then((function(e){return function(e){var t=e.data.split("(");return t=t[1].replace(")","").replace(";",""),JSON.parse(t)}(e)})).then((function(e){return function(e){return e.features.map((function(e){var t=e.id,a=e.geometry,n=e.properties,r=new Date(parseInt(n.time));return{id:t,coordinates:{lat:a.coordinates[1],lng:a.coordinates[0]},place:n.place,time:r.toLocaleTimeString(),date:r.toLocaleDateString(),mag:n.mag}}))}(e)})).catch((function(e){return console.log(e)}))},j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(o.a)(t).call(this))).handleClick=function(t){return e.setState({selectedPin:e.state.earthquakes.find((function(e){return e.id===t}))})},e.handleChange=function(t){return e.setState({input:t.target.value})},e.centerMap=function(){var t=e.state.earthquakes.find((function(t){return t.place.toLowerCase().includes(e.state.input.toLocaleLowerCase())}));return t?t.coordinates:null},e.state={earthquakes:[],selectedPin:{},input:"",center:{lat:59.95,lng:30.33}},e.handleClick=e.handleClick.bind(Object(d.a)(e)),e.handleChange=e.handleChange.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;q().then((function(t){e.setState({earthquakes:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(E,null),r.a.createElement("div",{className:"app__container"},r.a.createElement(b,{onchange:this.handleChange,value:this.value}),r.a.createElement(k,{earthquakes:this.state.earthquakes,handleClick:this.handleClick,selected:this.state.selectedPin,center:this.centerMap()})),r.a.createElement(C,null))}}]),t}(r.a.Component);c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.3f71818f.chunk.js.map